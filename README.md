# Проектная работа 4-5 спринтов

## В репозитории 3 сервиса 
- api_service для Fast api
- etl_service для запуска ETL pipeline
- nginx для проксирования запросов
# Инструкция по использованию

---
## Запуск и функционал
### Запуск:
1. Создаем файл `docker.env` на примере `.env.example`
2. Выполняем сборку и запуск проекта:
```shell
$ make run
```
Запускаются: 
- база Postgres
- база Elasticsearch
- база Redi
- ETL сервис
- fast API service
- сервер nginx

**Для тестирования сервиса и просмотра документации в swagger, перейдите по ссылке: 
http://0.0.0.0/api_service/openapi#**  

### Makefile функции: 

 - сборка проекта:
```shell
$ make build
```
- сброс сохраненного состояния(для загрузки всей базы заново):
```shell
$ make drop-state
```
 - запуск проекта:
```shell
$ make up
```
- остановить и удалить контейнеры и другие ресурсы, созданные командой docker-compose up
```shell
 make down
```
- собрать и сразу запустить проект
```shell
$ make run
```
- остановить контейнеры проекта, но не удалять их
```shell
$ make stop
```
- запуск остановленных контейнеровп проекта
```shell
$ make start
```
- просмотр логов
```shell
$ make logs
```

---



